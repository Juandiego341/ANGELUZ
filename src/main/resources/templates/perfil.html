<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="es">

<head th:replace="fragments/header :: header"><title>inicio</title></head>

<body class="bg-gray-100 min-h-screen">

<!-- Navbar dinámico según el rol -->
<nav sec:authorize="hasRole('ROLE_ADMIN')" th:replace="fragments/headerAdmin :: navbarAdmin" class="fixed top-0 w-full z-50"></nav>
<nav sec:authorize="hasRole('ROLE_MODERATOR')" th:replace="fragments/headerModerator :: navbarModerator" class="fixed top-0 w-full z-50"></nav>
<nav sec:authorize="hasRole('ROLE_USER')" th:replace="fragments/header :: navbar" class="fixed top-0 w-full z-50"></nav>

!-- Contenido principal -->
<div class="pt-20">
    <div class="max-w-4xl mx-auto mt-16 p-8 bg-white rounded-lg shadow-xl border border-gray-200">
        <h1 class="text-3xl font-bold text-blue-600 mb-6 text-center">Perfil de Usuario</h1>
    <div th:if="${usuario != null}" class="text-center">
        <!-- Avatar -->
        <img th:src="@{/images/avatar.png}" alt="Avatar" class="w-24 h-24 rounded-full mx-auto mb-6 border shadow">

        <!-- Información del usuario -->
        <p class="text-gray-700 mb-2"><strong>Nombre:</strong> <span th:text="${usuario.nombre}"></span></p>
        <p class="text-gray-700 mb-2"><strong>Usuario:</strong> <span th:text="${usuario.username}">admin</span></p>
        <p class="text-gray-700 mb-2"><strong>Correo:</strong> <span th:text="${usuario.email}">correo@ejemplo.com</span></p>

        <!-- Botones de acción -->
        <div class="flex justify-center space-x-4 mt-6">
            <a href="/perfil/editar" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition">Editar Perfil</a>
            <a href="/cambiarContrasena" class="bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 transition">Cambiar Contraseña</a>
            <a href="/logout" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition">Cerrar sesión</a>
        </div>
    </div>

    <div th:if="${usuario == null}" class="text-center text-red-500">
        <p>No se pudo cargar el perfil del usuario.</p>
    </div>
</div>

<!-- Footer -->
<footer th:replace="fragments/footer :: footer"></footer>
</div>
</body>


</html>