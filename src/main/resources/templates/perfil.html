<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="es">

<head th:replace="fragments/header :: header">
    <title>Perfil de Usuario</title>
</head>

<body class="bg-gradient-to-b from-blue-100 via-white to-white min-h-screen flex flex-col">

<!-- Navbar -->
<nav sec:authorize="hasRole('ROLE_ADMIN')" th:replace="fragments/headerAdmin :: navbarAdmin" class="fixed top-0 w-full z-50"></nav>
<nav sec:authorize="hasRole('ROLE_MODERATOR')" th:replace="fragments/headerModerator :: navbarModerator" class="fixed top-0 w-full z-50"></nav>
<nav sec:authorize="hasRole('ROLE_USER')" th:replace="fragments/header :: navbar" class="fixed top-0 w-full z-50"></nav>

<!-- Contenido -->
<main class="flex-grow pt-28 px-4">
    <section class="max-w-6xl mx-auto bg-white/80 backdrop-blur-lg rounded-3xl shadow-2xl border border-gray-300 p-10 animate-fadeIn">
        <h1 class="text-5xl font-extrabold text-center text-blue-700 mb-12">Mi Perfil</h1>

        <div th:if="${usuario != null}" class="flex flex-col items-center space-y-8">
            <div class="relative">
                <img th:src="@{/images/avatar.png}" alt="Avatar" class="w-32 h-32 rounded-full border-4 border-blue-300 shadow-lg">
                <div class="absolute bottom-0 right-0 bg-green-400 w-5 h-5 rounded-full border-2 border-white"></div>
            </div>

            <div class="text-center space-y-1">
                <p class="text-2xl font-semibold text-gray-700"><span th:text="${usuario.nombre}"></span></p>
                <p class="text-gray-600"><strong>Usuario:</strong> <span th:text="${usuario.username}"></span></p>
                <p class="text-gray-600"><strong>Correo:</strong> <span th:text="${usuario.email}"></span></p>
            </div>





            <!-- Botones de acciones -->
            <div class="flex flex-wrap justify-center gap-6 mt-12">
                <a href="/perfil/editar" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-xl transition-all shadow-lg hover:scale-105">
                    Editar Perfil
                </a>
                <a href="/perfil/cambiar-contrasena" class="bg-yellow-400 hover:bg-yellow-500 text-white font-bold py-3 px-8 rounded-xl transition-all shadow-lg hover:scale-105">
                    Cambiar Contraseña
                </a>
<!--                <a th:href="@{usuario/mis-reservas}" class="bg-yellow-400 hover:bg-yellow-500 text-white font-bold py-3 px-8 rounded-xl transition-all shadow-lg hover:scale-105">-->
<!--                    Mis reservas-->
<!--                </a>-->
                <a href="/logout" class="bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-8 rounded-xl transition-all shadow-lg hover:scale-105">
                    Cerrar Sesión
                </a>
            </div>
        </div>

        <div th:if="${usuario == null}" class="text-center text-red-500 mt-8">
            <p>No se pudo cargar la información del perfil.</p>
        </div>
    </section>
</main>

<!-- Footer -->
<footer th:replace="fragments/footer :: footer"></footer>

<!-- Animaciones personalizadas -->
<style>
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .animate-fadeIn {
        animation: fadeIn 1s ease-out;
    }
</style>

</body>
</html>
